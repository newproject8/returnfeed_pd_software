# ReturnFeed Unified Development Guidelines

## 프로젝트 목표
두 개의 독립적인 PyQt 애플리케이션(NDI + vMix Tally)을 하나의 통합 GUI로 결합하면서 각 모듈의 독립성과 안정성 유지

## 최근 업데이트 (v2.2 - 2025.07.16)
- **프로페셔널 UI 리디자인**: Adobe Premiere 스타일의 다크 테마
- **동적 비트레이트 계산**: NDI 실제 압축률 기반 대역폭 표시
- **컴팩트 1행 레이아웃**: 효율적인 공간 활용을 위한 단일행 컨트롤
- **브랜드 아이덴티티 강화**: 리턴피드 로고 통합 (타이틀바, 팝업, 상단바)
- **고정폭 시계 표시**: Monospace 폰트로 안정적인 시간 표시

## 핵심 원칙

### 1. 모듈 독립성
- 각 모듈은 독립적으로 동작 가능해야 함
- 한 모듈의 오류가 다른 모듈에 영향을 주지 않도록 격리
- 명확한 인터페이스 정의

### 2. 코드 품질
- PyQt6로 통일된 코드베이스
- 타입 힌트 사용
- 명확한 에러 처리
- 적절한 로깅

### 3. UI/UX 디자인 원칙
- **Adobe Premiere 스타일**: 다크 테마 기반 전문가용 인터페이스
- **컴팩트 레이아웃**: 1행 구조로 공간 효율성 극대화
- **일관된 디자인**: 모든 UI 요소의 높이, 여백, 폰트 통일
- **명확한 시각적 피드백**: 프록시/일반 모드 색상 구분
- **브랜드 일관성**: 로고 배치 및 컬러 스키마 적용

### 4. 아키텍처
```
통합 메인 윈도우
├── Command Bar (상단)
│   ├── 로그인 프레임
│   ├── 연결 상태 표시
│   ├── Tally 디스플레이
│   └── 리턴피드 로고
├── Video Display (중앙)
│   └── 16:9 비율 고정 프리뷰
├── NDI Control Panel (컨트롤)
│   └── NDI | 소스 | 토글 | 연결해제 | 재탐색
├── Stream Control Panel (컨트롤)
│   └── 리턴피드 | 서버상태 | 스트리밍버튼
└── Info Status Bar (하단)
    └── 기술 정보 표시
```

## 구현 규칙

### 스레드 안전성
- UI 업데이트는 반드시 메인 스레드에서
- 모듈 간 통신은 Qt 시그널/슬롯 사용
- 공유 리소스 접근 시 적절한 동기화

### 리소스 관리
- NDI 초기화는 애플리케이션 레벨에서 한 번만
- 모든 네트워크 연결은 적절히 정리
- 메모리 누수 방지를 위한 명시적 정리

### 에러 처리
- 모듈별 독립적인 에러 복구
- 사용자 친화적인 에러 메시지
- 크리티컬 에러와 경고 구분

## 테스트 전략
1. 각 모듈 독립 실행 테스트
2. 통합 환경에서 동시 실행 테스트
3. 에러 상황 시뮬레이션
4. 리소스 누수 검증

## 주의사항
- DLL 경로 충돌 방지
- 이벤트 루프 관리 주의
- 설정 파일 호환성 유지