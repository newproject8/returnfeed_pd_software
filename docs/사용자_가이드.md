# PD 통합 소프트웨어 사용자 가이드

**버전**: 1.0.0  
**최종 업데이트**: 2025년 1월 9일  
**대상**: PD, 카메라맨, 방송 스태프

## 목차
1. [소개](#1-소개)
2. [시작하기](#2-시작하기)
3. [주요 기능](#3-주요-기능)
4. [화면 구성](#4-화면-구성)
5. [기능별 사용법](#5-기능별-사용법)
6. [문제 해결](#6-문제-해결)
7. [자주 묻는 질문](#7-자주-묻는-질문)

## 1. 소개

PD 통합 소프트웨어는 방송 제작을 위한 올인원 솔루션입니다.

### 주요 기능
- **NDI 프리뷰**: 네트워크상의 NDI 소스를 실시간으로 미리보기
- **vMix Tally**: vMix와 연동하여 PGM/PVW 상태 표시
- **SRT 스트리밍**: ReturnFeed Media MTX 서버로 영상 스트리밍
- **통합 인증**: PD 로그인 및 고유 주소 시스템

### 시스템 요구사항
- Windows 10/11 (64bit)
- 최소 RAM: 8GB (권장 16GB)
- 네트워크: 1Gbps 이상 권장
- 선택사항: NDI SDK, vMix, FFmpeg

## 2. 시작하기

### 2.1 프로그램 실행
1. `PD_Software.exe` 더블클릭
2. Windows 보안 경고가 나타나면 "실행" 클릭

### 2.2 첫 실행 시 설정
1. **로그인 화면**
   - PD 계정으로 로그인
   - 고유 주소가 자동 생성됨

2. **초기 설정**
   - 서버 주소 확인 (기본값 사용 권장)
   - vMix IP 설정 (로컬: 127.0.0.1)

## 3. 주요 기능

### 3.1 NDI 프리뷰
네트워크상의 NDI 소스를 검색하고 실시간으로 미리볼 수 있습니다.

**특징:**
- 자동 소스 검색
- 낮은 지연시간
- 고품질 영상 전송

### 3.2 vMix Tally
vMix의 PGM/PVW 상태를 실시간으로 표시합니다.

**특징:**
- TCP + HTTP 하이브리드 방식
- 실시간 상태 동기화
- LED 색상 표시 (빨강: PGM, 초록: PVW)

### 3.3 SRT 스트리밍
영상을 SRT 프로토콜로 Media MTX 서버에 전송합니다.

**특징:**
- 안정적인 전송
- 낮은 지연시간
- 자동 재연결

## 4. 화면 구성

### 메인 윈도우
```
┌─────────────────────────────────────┐
│  PD 통합 소프트웨어                │
├─────────────────────────────────────┤
│ [NDI] [Tally] [SRT] [설정]          │ <- 탭
├─────────────────────────────────────┤
│                                     │
│         (선택한 탭 내용)            │
│                                     │
├─────────────────────────────────────┤
│ 상태: 연결됨 | 사용자: USER123     │
└─────────────────────────────────────┘
```

### 탭별 구성
1. **NDI 탭**: 소스 목록, 프리뷰 화면
2. **Tally 탭**: 입력 목록, PGM/PVW 상태
3. **SRT 탭**: 스트리밍 설정, 상태 표시
4. **설정 탭**: 서버, vMix, 스트리밍 설정

## 5. 기능별 사용법

### 5.1 NDI 소스 프리뷰

#### 소스 선택하기
1. NDI 탭 클릭
2. 좌측 소스 목록에서 원하는 소스 선택
3. "연결" 버튼 클릭
4. 우측에 프리뷰 표시됨

#### 프리뷰 중지
1. "연결 해제" 버튼 클릭
2. 또는 다른 소스 선택

### 5.2 vMix Tally 사용

#### vMix 연결
1. Tally 탭 클릭
2. vMix IP 주소 입력 (기본: 127.0.0.1)
3. "연결" 버튼 클릭
4. 연결 상태 확인

#### Tally 상태 확인
- **빨간색 LED**: Program (방송 중)
- **초록색 LED**: Preview (대기 중)
- **회색 LED**: 비활성

### 5.3 SRT 스트리밍

#### 스트리밍 시작
1. SRT 탭 클릭
2. 소스 선택:
   - NDI 소스
   - 화면 캡처
3. 스트림 이름 입력
4. "스트리밍 시작" 버튼 클릭

#### 스트리밍 설정
- **비트레이트**: 기본 5000 kbps
- **FPS**: 기본 30
- **해상도**: 자동 또는 수동 설정

#### 스트리밍 중지
1. "스트리밍 중지" 버튼 클릭
2. 확인 대화상자에서 "예" 선택

### 5.4 설정 관리

#### 서버 설정
- WebSocket URL: wss://returnfeed.net/ws/
- Media MTX 서버: returnfeed.net
- SRT 포트: 8890

#### vMix 설정
- IP 주소: vMix 실행 PC의 IP
- HTTP 포트: 8088 (기본값)
- TCP 포트: 8099 (기본값)

#### 스트리밍 설정
- 비트레이트: 1000-10000 kbps
- FPS: 15-60
- 프리셋: ultrafast, fast, medium, slow

## 6. 문제 해결

### 6.1 NDI 소스가 보이지 않음
**원인 및 해결:**
1. **네트워크 문제**
   - 같은 네트워크에 있는지 확인
   - 방화벽 설정 확인

2. **NDI SDK 미설치**
   - NDI Tools 설치
   - 프로그램 재시작

3. **소스가 없음**
   - NDI 송출 프로그램 실행 확인

### 6.2 vMix 연결 실패
**원인 및 해결:**
1. **vMix 미실행**
   - vMix 실행 확인

2. **API 비활성화**
   - vMix 설정 > Web Controller 활성화

3. **포트 차단**
   - Windows 방화벽에서 8088, 8099 포트 허용

### 6.3 SRT 스트리밍 실패
**원인 및 해결:**
1. **FFmpeg 미설치**
   - FFmpeg 설치 및 PATH 추가

2. **서버 연결 문제**
   - 인터넷 연결 확인
   - Media MTX 서버 상태 확인

3. **인증 실패**
   - 로그인 상태 확인
   - 고유 주소 재생성

### 6.4 프로그램이 느림
**원인 및 해결:**
1. **CPU 과부하**
   - 다른 프로그램 종료
   - 스트리밍 품질 낮춤

2. **메모리 부족**
   - RAM 추가
   - 불필요한 프로그램 종료

3. **네트워크 대역폭**
   - 네트워크 상태 확인
   - 비트레이트 조정

## 7. 자주 묻는 질문

### Q1. 여러 NDI 소스를 동시에 볼 수 있나요?
A: 현재 버전에서는 한 번에 하나의 NDI 소스만 프리뷰 가능합니다. 여러 소스를 보려면 소스를 전환해야 합니다.

### Q2. vMix 없이도 사용할 수 있나요?
A: 네, 가능합니다. NDI 프리뷰와 SRT 스트리밍은 vMix 없이도 사용할 수 있습니다. Tally 기능만 vMix가 필요합니다.

### Q3. 스트리밍 지연시간은 얼마나 되나요?
A: 일반적으로 1-3초 정도의 지연시간이 발생합니다. 네트워크 상태에 따라 달라질 수 있습니다.

### Q4. 고유 주소는 어디에 사용되나요?
A: 고유 주소는 스트림 식별과 접근 제어에 사용됩니다. 각 사용자마다 고유한 8자리 주소가 생성됩니다.

### Q5. 설정이 저장되지 않아요.
A: 프로그램을 관리자 권한으로 실행해보세요. 또한 설정 파일 경로에 쓰기 권한이 있는지 확인하세요.

### Q6. 화면이 깨져 보여요.
A: 디스플레이 배율을 100%로 설정하거나, 프로그램 속성에서 "높은 DPI 설정 시 디스플레이 배율 재정의" 옵션을 활성화하세요.

### Q7. Tally 정보가 카메라맨에게 전달되나요?
A: 네, 릴레이 서버(returnfeed.net:8765)를 통해 모든 연결된 클라이언트에게 실시간으로 전달됩니다.

### Q8. 릴레이 서버 주소는 어떻게 변경하나요?
A: 설정 탭에서 WebSocket URL을 변경하거나, config/settings.json 파일을 직접 수정하세요.

---

## 시스템 아키텍처

### 데이터 흐름
```
vMix → PD 앱 → 릴레이 서버(8765) → 카메라맨/PD 클라이언트
         ↓
    MediaMTX(8890) → SRT 스트리밍
```

### 주요 통신 프로토콜
- **vMix ↔ PD 앱**: TCP(8099) + HTTP(8088)
- **PD 앱 ↔ 릴레이 서버**: WebSocket(8765)
- **PD 앱 ↔ MediaMTX**: SRT(8890)

---

## 지원 및 문의

- **이메일**: support@returnfeed.net
- **문서**: https://docs.returnfeed.net
- **GitHub**: https://github.com/newproject8/returnfeed_pd_software
- **업데이트**: 프로그램 내 자동 업데이트 확인

---

**작성자**: PD Software Team  
**최종 업데이트**: 2025년 1월 9일  
**버전**: 1.0.0